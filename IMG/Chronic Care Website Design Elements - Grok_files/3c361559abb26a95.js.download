(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,794804,e=>{"use strict";e.s(["TeamSwitchPrompt",()=>d]);var t=e.i(637651),s=e.i(934652),i=e.i(443696),a=e.i(723008),r=e.i(486492),l=e.i(724499),n=e.i(353315);e.i(968648);var o=e.i(873329),c=e.i(410289);function d(e){let{switchToPersonalTeam:d,teamId:p,attemptAutoSwitch:h=!1,title:u,description:g}=e,{t:m}=(0,o.useTranslation)("base"),{switchTeam:y,isSwitchingTeam:v,teams:f,isLoadingTeams:x}=(0,s.useEnterprise)(),[b,j]=(0,n.useState)("idle"),k=(0,l.useRouting)(),w=(0,n.useMemo)(()=>!!d||(null==f?void 0:f.some(e=>e.teamId===p)),[f,p,d]),S=(0,n.useMemo)(()=>{var e;return d?m("switch-team.personal","Personal"):null==f||null==(e=f.find(e=>e.teamId===p))?void 0:e.name},[f,p,d,m]),I=(0,n.useCallback)(()=>{if(!v)return y({teamId:d?null:null!=p?p:null,router:k,reloadPage:!0})},[y,v,d,p,k]);return(0,n.useEffect)(()=>{if("idle"===b&&h){var e;j("attempting"),null==(e=I())||e.catch(()=>{(0,r.logError)("team-switch-prompt:auto-switch","Failed to auto switch team"),j("failed")})}},[I,b,h]),(0,t.jsx)("div",{className:"flex flex-col items-center justify-center min-h-dvh w-full p-4",children:x||"idle"===b&&h?(0,t.jsxs)("div",{className:"max-w-xl flex flex-col items-center justify-center",children:[(0,t.jsx)(c.Skeleton,{className:"h-10 w-48 mb-6"}),(0,t.jsx)(c.Skeleton,{className:"h-6 w-72 mb-3"}),(0,t.jsx)(c.Skeleton,{className:"h-10 w-40 mt-8"})]}):(0,t.jsx)("div",{className:"max-w-xl flex flex-col items-center justify-center",children:"attempting"===b?(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("span",{className:"text-lg font-medium",children:m("switch-team.auto-switch-message","Switching to {{teamName}}",{teamName:S})}),(0,t.jsx)(a.Spinner,{size:"sm"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"text-3xl font-medium text-center whitespace-pre",children:w?u||m("switch-team.title","Switch Workspace"):m("switch-team.invalid-license.title","Access Denied")}),(0,t.jsx)("div",{className:"mt-6 text-secondary text-center whitespace-pre-wrap",children:w?g||m("switch-team.description","Switch to {{teamName}} to access this conversation.",{teamName:S}):m("switch-team.invalid-license.description","You don't have access to this team. Please contact the team admin to gain access.")}),w&&(0,t.jsx)(i.Button,{variant:"secondary",size:"md",shape:"rectangle",disabled:v,className:"mt-8",onClick:I,children:m("switch-team.cta","Switch to {{teamName}}",{teamName:S})})]})})})}},956916,e=>{"use strict";e.s(["ChatBubblePlusIcon",()=>i]);var t=e.i(637651),s=e.i(792150);let i=e=>(0,t.jsx)(s.Icon,{viewBox:"0 0 14 14",...e,children:(0,t.jsx)("path",{d:"M7 0.501953C7.2252 0.501953 7.44769 0.513774 7.66699 0.536133V1.87598C7.44859 1.84783 7.22607 1.83203 7 1.83203C4.2347 1.83203 1.97711 4.00345 1.83887 6.73438L1.83203 7C1.83203 8.45819 2.43546 9.77408 3.4082 10.7148L3.78613 11.0791L3.51855 11.5303L3.1416 12.168H6.98438L7.27734 12.1611C9.91708 12.0218 12.0323 9.90065 12.1621 7.25781L12.168 7C12.168 6.77393 12.1522 6.55141 12.124 6.33301H13.4648C13.4872 6.55228 13.498 6.77483 13.498 7L13.4902 7.32422C13.3268 10.652 10.66 13.3218 7.33301 13.4902L7.32422 13.4912H7.31543L7.01562 13.498H0.810547L1.4043 12.4951L2.12012 11.2852C1.18522 10.2216 0.5891 8.85081 0.510742 7.3418L0.501953 7C0.501953 3.41107 3.41107 0.501953 7 0.501953ZM11.999 0.976562L11.998 2L13.0234 2.00098L13.6885 2.00195V3.33203H13.0234L11.998 3.33008V5.02246H10.668V3.33008L9.64355 3.33203H8.97754V2.00195L9.64258 2.00098L10.668 2V0.311523H11.998L11.999 0.976562Z",fill:"currentColor"})})},19862,e=>{"use strict";e.s(["default",()=>l]);var t=e.i(637651),s=e.i(432517),i=e.i(850821),a=e.i(724499);e.i(968648);var r=e.i(873329);function l(){let{t:e}=(0,r.useTranslation)("base");return(0,t.jsxs)("div",{className:"w-full min-h-dvh flex flex-col items-center justify-center pt-4",children:[(0,t.jsx)(a.Link,{route:{page:"main"},className:"block focus:outline-none focus-visible:ring-1 focus-visible:ring-ring rounded-lg",children:(0,t.jsx)(i.GrokWordLogo,{height:20,width:60,className:"opacity-80 hover:opacity-100 fill-black dark:fill-white"})}),(0,t.jsx)(s.ErrorCard,{title:e("pages.404.title","Page not found"),description:e("pages.404.description","There was an error loading this page. Please verify that you are using a correct URL or contact one of the admins if the issue persists."),cta:e("pages.404.home","Return to home")})]})}},86871,408654,e=>{"use strict";e.s(["ArrowRightIcon",()=>t],86871),e.s(["default",()=>t],408654);let t=(0,e.i(510965).default)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},10134,e=>{"use strict";e.s(["ClearCachePage",()=>o,"default",()=>c]);var t=e.i(637651),s=e.i(850821);e.i(685846);var i=e.i(290768),a=e.i(962339),r=e.i(6880),l=e.i(353315);e.i(968648);var n=e.i(873329);function o(){let{t:e}=(0,n.useTranslation)("base"),o=(0,r.useRouter)(),c=(0,l.useCallback)(()=>{let e=[a.ANON_USER_ID_LOCAL_STORAGE_KEY,a.ANON_PRIVATE_KEY_LOCAL_STORAGE_KEY];Object.keys(localStorage).forEach(t=>{e.includes(t)||localStorage.removeItem(t)}),sessionStorage.clear()},[]),d=(0,l.useCallback)(()=>{for(let e of document.cookie.split(";")){let t=e.indexOf("="),s=t>-1?e.substring(0,t).trim():e.trim();document.cookie="".concat(s,"=;expires=Thu, 01 Jan 1970 00:00:00 GMT;path=/")}},[]);return(0,l.useEffect)(()=>{c(),d(),o.push("/clear-cookies")},[c,d,o]),(0,t.jsx)("div",{className:"w-full h-dvh flex justify-center items-center align-middle",children:(0,t.jsxs)("div",{className:"w-full max-w-lg text-center flex flex-col items-center",children:[(0,t.jsx)("div",{className:"mb-6 flex justify-center",children:(0,t.jsx)(s.BlackholeGrokLogo,{className:"w-24 text-primary"})}),(0,t.jsxs)("div",{className:"flex flex-row gap-2 items-center",children:[(0,t.jsx)("p",{className:"text-lg text-primary animate-pulse",children:e("redirecting","Redirecting")}),(0,t.jsx)(i.Loader2,{className:"w-4 h-4 animate-spin"})]})]})})}let c=o},90495,e=>{"use strict";e.s(["default",()=>y]);var t=e.i(637651),s=e.i(443696),i=e.i(920958),a=e.i(926836),r=e.i(353315);e.i(968648);var l=e.i(873329),n=e.i(72290),o=e.i(850821),c=e.i(211959),d=e.i(233833),p=e.i(81795),h=e.i(122088),u=e.i(6880);e.i(685846);var g=e.i(584244),m=e.i(626205);function y(){let{t:e}=(0,l.useTranslation)("base"),y=(0,i.useLogEvent)(),{os:f}=(0,a.useOs)(),{APP_STORE_URL:x,GOOGLE_PLAY_URL:b}=(0,n.useEnvironment)(),[j,k]=(0,r.useState)(!1),[w,S]=(0,r.useState)(!1),I=(0,u.useRouter)(),{resolvedTheme:N,setTheme:M}=(0,p.useTheme)(),C=(0,h.useMobileUa)();(0,m.useDocumentTitle)(e("imagine-download-html-document-title","Grok Imagine"),e("imagine-download-html-document-description","The fastest image and video generation experience"),!0),(0,r.useEffect)(()=>{"dark"!==N&&M("dark")},[]),(0,r.useEffect)(()=>{if("undetermined"!==f&&!j){k(!0);let{ios:e,android:t}=v(),s=document.createElement("iframe");"android"===f?s.src=t:s.src=e,s.style.display="none",s.height="0",s.width="0",document.body.appendChild(s),setTimeout(()=>{document.hasFocus()&&document.body.removeChild(s)},1e3)}},[f,j]);let _=(0,r.useCallback)(()=>{y("clicked_download_app",f,{location:"imagine-page",os:f}),"android"!==f?window.location.href=x:window.location.href=b},[y,f,x,b]),L=(0,r.useCallback)(()=>{let e=new URLSearchParams({return_to:location.pathname}).toString();y("sign_up_redirect",f,{location:"imagine-page",os:f}),I.push("/sign-up".concat(e?"?".concat(e):""))},[y,f,I]),T=(0,r.useCallback)(()=>{let e=new URLSearchParams({return_to:location.pathname}).toString();y("sign_in_redirect",f,{location:"imagine-page",os:f}),I.push("/sign-in".concat(e?"?".concat(e):""))},[y,f,I]),{setOpen:E}=(0,d.useSidebar)(),R=(0,r.useRef)(null);return((0,r.useEffect)(()=>{function e(){let e=.01*window.innerHeight;document.documentElement.style.setProperty("--vh","".concat(e,"px"))}return E(!1),e(),window.addEventListener("resize",e),window.addEventListener("scroll",e),()=>{window.removeEventListener("resize",e),window.removeEventListener("scroll",e)}},[]),"undetermined"===f)?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-background",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mx-auto"}),(0,t.jsx)("p",{className:"mt-4 text-secondary",children:e("imagine.loading","Loading...")})]})}):(0,t.jsxs)("div",{className:(0,c.cn)("dark min-w-full flex items-center justify-center px-4","relative overflow-hidden"),style:{height:"calc(var(--vh, 1vh) * 100)"},onClick:()=>{var e;null==(e=R.current)||e.play()},children:[(0,t.jsx)("div",{className:(0,c.cn)("absolute inset-0 bg-cover bg-center bg-no-repeat",'bg-[url("/backgrounds/grok-imagine-small.png")]','md:bg-[url("/backgrounds/grok-imagine-medium.png")]',"transition-opacity ease-in-out"),style:{opacity:+!w,transitionDuration:"2000ms",zIndex:1}}),(0,t.jsx)("video",{ref:R,autoPlay:!0,muted:!0,loop:!0,playsInline:!0,className:"absolute inset-0 w-full h-full object-cover",style:{zIndex:0,transform:"scale(1.2) translate(-10px, -180px)"},onLoadedData:()=>{var e;S(!0),null==(e=R.current)||e.play()},onError:()=>S(!1),children:(0,t.jsx)("source",{src:"https://storage.googleapis.com/grok-web-public/grok-imagine-horizontal-4k.mp4",type:"video/mp4"})}),(0,t.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/90 to-transparent pointer-events-none",style:{zIndex:2}}),(0,t.jsxs)("div",{className:"flex flex-col items-center text-center max-w-md mx-auto relative z-10",children:[(0,t.jsx)(o.BlackholeLogo,{className:"w-24 h-24 text-primary"}),(0,t.jsx)("h1",{className:"text-[56px] text-primary mt-3 leading-none tracking-[-2.5px] font-[550]",children:e("imagine.title","Grok Imagine")}),(0,t.jsx)("p",{className:"text-xl text-primary mt-6",children:e("imagine.subtitle","Introducing the fastest image and video generation experience")}),!C&&(0,t.jsxs)("div",{className:"flex flex-row gap-4 items-center mt-8",children:[(0,t.jsxs)(s.Button,{className:"font-semibold text-xl",variant:"primary",size:"xl",shape:"pill",onClick:L,children:[(0,t.jsx)(g.User,{size:18,strokeWidth:3}),e("Sign up","Sign up")]}),(0,t.jsx)(s.Button,{className:"font-semibold text-xl",variant:"secondary",size:"xl",shape:"pill",onClick:T,children:e("Sign in","Sign in")})]}),C&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.Button,{variant:"primary",size:"xl",shape:"pill",onClick:_,className:"mt-8 mb-10 text-xl font-semibold",children:e("imagine.download_button","Download Grok app")}),(0,t.jsx)("button",{type:"button",onClick:()=>{y("clicked_have_app",f,{location:"imagine-page",os:f});let{ios:e,android:t}=v();"android"!==f?window.location.href=e:window.location.href=t},className:"text-primary underline transition-colors text-base cursor-pointer bg-transparent border-0 p-0",children:e("imagine.app_link_2","I already have the app")})]})]})]})}function v(){let e=window.location.pathname,t=window.location.search,s=e.replace(/^\/imagine/,""),i="source=web";return t&&(i=t.substring(1)+"&"+i),{ios:"com.grokapp://imagine".concat(s,"?").concat(i),android:"intent://imagine".concat(s,"?").concat(i,"#Intent;scheme=grok;package=com.grokapp;end")}}},310158,e=>{"use strict";e.s(["ImageEditorQueryBar",()=>h]);var t=e.i(637651),s=e.i(246429);e.i(685846);var i=e.i(560831),a=e.i(410594),r=e.i(211959),l=e.i(159422),n=e.i(623434),o=e.i(633918),c=e.i(353315);e.i(968648);var d=e.i(873329),p=e.i(399696);let h=e=>{let{className:h,hasImage:u,inputValue:g,isStreaming:m,onInputValueChange:y,onSend:v,onAbort:f}=e,{t:x}=(0,d.useTranslation)("base"),b=(0,s.useChatPageStore)(o.prop("lastMessageId")),j=(0,s.useChatPageStore)(o.prop("streamedMessageId")),k=(0,l.useResponseStore)(o.prop("byId")),w=(0,c.useRef)(null),S=(0,c.useRef)(null),[I,N]=(0,c.useState)(!1),M=(0,c.useMemo)(()=>m||!u,[m,u]),C=(0,c.useMemo)(()=>!I&&!m&&u&&!!g.trim(),[I,u,g,m]),_=(0,c.useCallback)(async e=>{var t;e.preventDefault(),!M&&g.trim()&&(N(!0),await (null==(t=v(g))?void 0:t.finally(()=>{var e;null==(e=S.current)||e.focus(),N(!1)})))},[v,M,g]),L=(0,c.useMemo)(()=>{let e=j?k[j]:void 0;if((null==e?void 0:e.parentResponseId)===b)return e},[j,k,b]),T=(0,c.useMemo)(()=>{if(m)return(null==L?void 0:L.state)||"closed"},[m,L]),E=(0,c.useCallback)(e=>{if(e.stopPropagation(),"Enter"===e.key&&!e.metaKey&&!e.ctrlKey&&!e.shiftKey&&!e.nativeEvent.isComposing){var t;e.preventDefault(),null==(t=w.current)||t.dispatchEvent(new Event("submit",{cancelable:!0,bubbles:!0}))}},[]);return(0,t.jsxs)("form",{className:(0,r.cn)("w-full rounded-[32px] p-3 bg-input-background shadow shadow-input-border/10 flex gap-2 pl-5 items-end ring-1 ring-input-border ring-inset",h),onSubmit:_,ref:w,children:[(0,t.jsx)(p.default,{ref:S,className:(0,r.cn)("w-full @[480px]/input:px-3 bg-transparent focus:outline-none text-primary align-bottom resize-none pb-1.5",m&&"animate-pulse"),onChange:e=>y(e.target.value),value:g,placeholder:u?m?x("Editing image","Editing image"):x("Describe your edits","Describe your edits"):x("Upload an image to begin","Upload an image to begin"),minRows:1,onKeyDown:E,autoFocus:!0,disabled:M,name:"query",maxRows:5}),(0,t.jsx)("div",{className:(0,r.cn)("ms-auto flex flex-row items-end gap-1"),children:m&&("streaming"===T||"reconnecting"===T)?(0,t.jsx)(n.motion.button,{whileTap:{scale:.95},initial:{scale:.95,opacity:1},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:.5,transition:{duration:.2}},className:(0,r.cn)("group flex flex-col justify-center rounded-full focus:outline-none focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring"),onClick:e=>{e.preventDefault(),f().catch(console.error)},children:(0,t.jsx)("div",{className:(0,r.cn)("h-9","aspect-square flex flex-col items-center justify-center rounded-full","rounded-full ring-1 ring-inset","bg-primary text-background ring-button-outline-border"),children:(0,t.jsx)(a.Square,{size:20})})}):(0,t.jsx)(n.motion.button,{initial:{opacity:.5},animate:{opacity:1,transition:{duration:.1}},whileHover:u?{scale:1.1}:void 0,whileTap:u?{scale:.95}:void 0,className:(0,r.cn)("group flex flex-col justify-center rounded-full focus:outline-none focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring"),type:"submit","aria-label":x("Submit","Submit"),disabled:!C,children:(0,t.jsx)("div",{className:(0,r.cn)("h-9 relative","aspect-square flex flex-col items-center justify-center","rounded-full ring-1 ring-inset duration-100","before:absolute before:inset-0 before:rounded-full before:bg-primary before:ring-0 before:transition-all duration-500",C?"bg-primary text-background ring-transparent before: before:[clip-path:circle(50%_at_50%_50%)]":"bg-button-secondary text-secondary before:[clip-path:circle(0%_at_50%_50%)] ring-0"),children:(0,t.jsx)(i.ArrowUpIcon,{size:20,className:"relative"})})})})]})}},410594,e=>{"use strict";e.s(["Square",()=>t],410594);let t=(0,e.i(510965).default)("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]])},283272,e=>{"use strict";e.s(["Upload",()=>t],283272);let t=(0,e.i(510965).default)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]])},591318,e=>{"use strict";e.s(["Bot",()=>t],591318);let t=(0,e.i(510965).default)("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]])},538036,e=>{"use strict";e.s(["default",()=>t]);let t=(0,e.i(510965).default)("Brush",[["path",{d:"m9.06 11.9 8.07-8.06a2.85 2.85 0 1 1 4.03 4.03l-8.06 8.08",key:"1styjt"}],["path",{d:"M7.07 14.94c-1.66 0-3 1.35-3 3.02 0 1.33-2.5 1.52-2 2.02 1.08 1.1 2.49 2.02 4 2.02 2.2 0 4-1.8 4-4.04a3.01 3.01 0 0 0-3-3.02z",key:"z0l1mu"}]])},889963,e=>{"use strict";e.s(["useEditImagePresets",()=>V],889963);var t=e.i(637651);e.i(685846);var s=e.i(591318),i=e.i(538036),i=i,a=e.i(810552),r=e.i(510965);let l=(0,r.default)("Castle",[["path",{d:"M22 20v-9H2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2Z",key:"109fe4"}],["path",{d:"M18 11V4H6v7",key:"mon5oj"}],["path",{d:"M15 22v-4a3 3 0 0 0-3-3a3 3 0 0 0-3 3v4",key:"1k4jtn"}],["path",{d:"M22 11V9",key:"3zbp94"}],["path",{d:"M2 11V9",key:"1x5rnq"}],["path",{d:"M6 4V2",key:"1rsq15"}],["path",{d:"M18 4V2",key:"1jsdo1"}],["path",{d:"M10 4V2",key:"75d9ly"}],["path",{d:"M14 4V2",key:"8nj3z6"}]]);var n=e.i(484143);let o=(0,r.default)("CircuitBoard",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M11 9h4a2 2 0 0 0 2-2V3",key:"1ve2rv"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"M7 21v-4a2 2 0 0 1 2-2h4",key:"1fwkro"}],["circle",{cx:"15",cy:"15",r:"2",key:"3i40o0"}]]);var c=e.i(286591),d=e.i(93819),p=e.i(468793),h=e.i(19044);let u=(0,r.default)("Focus",[["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]),g=(0,r.default)("Gamepad",[["line",{x1:"6",x2:"10",y1:"12",y2:"12",key:"161bw2"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"15",x2:"15.01",y1:"13",y2:"13",key:"dqpgro"}],["line",{x1:"18",x2:"18.01",y1:"11",y2:"11",key:"meh2c"}],["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}]]);var m=e.i(513488),y=e.i(379841);let v=(0,r.default)("HardHat",[["path",{d:"M2 18a1 1 0 0 0 1 1h18a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1H3a1 1 0 0 0-1 1v2z",key:"1dej2m"}],["path",{d:"M10 10V5a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v5",key:"1p9q5i"}],["path",{d:"M4 15v-3a6 6 0 0 1 6-6",key:"9ciidu"}],["path",{d:"M14 6a6 6 0 0 1 6 6v3",key:"1hnv84"}]]),f=(0,r.default)("Joystick",[["path",{d:"M21 17a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v2a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-2Z",key:"jg2n2t"}],["path",{d:"M6 15v-2",key:"gd6mvg"}],["path",{d:"M12 15V9",key:"8c7uyn"}],["circle",{cx:"12",cy:"6",r:"3",key:"1gm2ql"}]]),x=(0,r.default)("MountainSnow",[["path",{d:"m8 3 4 8 5-5 5 15H2L8 3z",key:"otkl63"}],["path",{d:"M4.14 15.08c2.62-1.57 5.24-1.43 7.86.42 2.74 1.94 5.49 2 8.23.19",key:"1pvmmp"}]]),b=(0,r.default)("Orbit",[["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["circle",{cx:"19",cy:"5",r:"2",key:"mhkx31"}],["circle",{cx:"5",cy:"19",r:"2",key:"v8kfzx"}],["path",{d:"M10.4 21.9a10 10 0 0 0 9.941-15.416",key:"eohfx2"}],["path",{d:"M13.5 2.1a10 10 0 0 0-9.841 15.416",key:"19pvbm"}]]);var j=e.i(122390),k=e.i(979094);let w=(0,r.default)("Radiation",[["path",{d:"M12 12h.01",key:"1mp3jc"}],["path",{d:"M7.5 4.2c-.3-.5-.9-.7-1.3-.4C3.9 5.5 2.3 8.1 2 11c-.1.5.4 1 1 1h5c0-1.5.8-2.8 2-3.4-1.1-1.9-2-3.5-2.5-4.4z",key:"wy49g3"}],["path",{d:"M21 12c.6 0 1-.4 1-1-.3-2.9-1.8-5.5-4.1-7.1-.4-.3-1.1-.2-1.3.3-.6.9-1.5 2.5-2.6 4.3 1.2.7 2 2 2 3.5h5z",key:"vklnvr"}],["path",{d:"M7.5 19.8c-.3.5-.1 1.1.4 1.3 2.6 1.2 5.6 1.2 8.2 0 .5-.2.7-.8.4-1.3-.5-.9-1.4-2.5-2.5-4.3-1.2.7-2.8.7-4 0-1.1 1.8-2 3.4-2.5 4.3z",key:"wkdf1o"}]]);var S=e.i(174389);let I=(0,r.default)("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]);var N=e.i(642838);let M=(0,r.default)("Skull",[["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M15 22a1 1 0 0 0 1-1v-1a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20v1a1 1 0 0 0 1 1z",key:"1o5pge"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}]]);var C=e.i(88378);let _=(0,r.default)("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]),L=(0,r.default)("SprayCan",[["path",{d:"M3 3h.01",key:"159qn6"}],["path",{d:"M7 5h.01",key:"1hq22a"}],["path",{d:"M11 7h.01",key:"1osv80"}],["path",{d:"M3 7h.01",key:"1xzrh3"}],["path",{d:"M7 9h.01",key:"19b3jx"}],["path",{d:"M3 11h.01",key:"1eifu7"}],["rect",{width:"4",height:"4",x:"15",y:"5",key:"mri9e4"}],["path",{d:"m19 9 2 2v10c0 .6-.4 1-1 1h-6c-.6 0-1-.4-1-1V11l2-2",key:"aib6hk"}],["path",{d:"m13 14 8-2",key:"1d7bmk"}],["path",{d:"m13 19 8-2",key:"1y2vml"}]]);var T=e.i(410594);let E=(0,r.default)("SunMedium",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 3v1",key:"1asbbs"}],["path",{d:"M12 20v1",key:"1wcdkc"}],["path",{d:"M3 12h1",key:"lp3yf2"}],["path",{d:"M20 12h1",key:"1vloll"}],["path",{d:"m18.364 5.636-.707.707",key:"1hakh0"}],["path",{d:"m6.343 17.657-.707.707",key:"18m9nf"}],["path",{d:"m5.636 5.636.707.707",key:"1xv1c5"}],["path",{d:"m17.657 17.657.707.707",key:"vl76zb"}]]),R=(0,r.default)("TreePalm",[["path",{d:"M13 8c0-2.76-2.46-5-5.5-5S2 5.24 2 8h2l1-1 1 1h4",key:"foxbe7"}],["path",{d:"M13 7.14A5.82 5.82 0 0 1 16.5 6c3.04 0 5.5 2.24 5.5 5h-3l-1-1-1 1h-3",key:"18arnh"}],["path",{d:"M5.89 9.71c-2.15 2.15-2.3 5.47-.35 7.43l4.24-4.25.7-.7.71-.71 2.12-2.12c-1.95-1.96-5.27-1.8-7.42.35",key:"ywahnh"}],["path",{d:"M11 15.5c.5 2.5-.17 4.5-1 6.5h4c2-5.5-.5-12-1-14",key:"ft0feo"}]]),A=(0,r.default)("Trees",[["path",{d:"M10 10v.2A3 3 0 0 1 8.9 16H5a3 3 0 0 1-1-5.8V10a3 3 0 0 1 6 0Z",key:"1l6gj6"}],["path",{d:"M7 16v6",key:"1a82de"}],["path",{d:"M13 19v3",key:"13sx9i"}],["path",{d:"M12 19h8.3a1 1 0 0 0 .7-1.7L18 14h.3a1 1 0 0 0 .7-1.7L16 9h.2a1 1 0 0 0 .8-1.7L13 3l-1.4 1.5",key:"1sj9kv"}]]),H=(0,r.default)("UserMinus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]),U=(0,r.default)("VenetianMask",[["path",{d:"M2 12a5 5 0 0 0 5 5 8 8 0 0 1 5 2 8 8 0 0 1 5-2 5 5 0 0 0 5-5V7h-5a8 8 0 0 0-5 2 8 8 0 0 0-5-2H2Z",key:"1g6z3j"}],["path",{d:"M6 11c1.5 0 3 .5 3 2-2 0-3 0-3-2Z",key:"c2lwnf"}],["path",{d:"M18 11c-1.5 0-3 .5-3 2 2 0 3 0 3-2Z",key:"njd9zo"}]]);var z=e.i(246727),K=e.i(353315);e.i(968648);var P=e.i(446583),B=e.i(50636);function V(){let e=(0,B.useFeatureFlags)();return(0,K.useMemo)(()=>{var t,s;let i=Array.isArray(null==(s=e.EDIT_IMAGE_PRESETS)||null==(t=s.value)?void 0:t.presets)?e.EDIT_IMAGE_PRESETS.value.presets:[];return{editImagePresets:D.map(e=>({...e,label:e.label,presets:e.presets.map(e=>{var t,s;return{...e,prompt:null!=(s=null==(t=i.find(t=>t.presetId===e.presetId))?void 0:t.prompt)?s:""}})})).filter(e=>e.presets.some(e=>e.prompt)).map(e=>({...e,presets:e.presets.filter(e=>e.prompt)}))}},[e])}let D=[{category:"creative",icon:j.Paintbrush,label:(0,t.jsx)(P.Trans,{ns:"base",i18nKey:"edit-image-presets.categories.creative",defaults:"Creative"}),presets:[{presetId:"water-color",icon:d.Droplet,label:(0,t.jsx)(P.Trans,{ns:"base",i18nKey:"edit-image-presets.presets.water-color",defaults:"Watercolor"}),previewUrl:"/image-editing-preset-previews/water-color.jpg"},{presetId:"15th-century",icon:l,label:(0,t.jsx)(P.Trans,{ns:"base",i18nKey:"edit-image-presets.presets.15th-century",defaults:"15th Century"}),previewUrl:"/image-editing-preset-previews/15th-century.jpg"},{presetId:"graffiti",icon:L,label:(0,t.jsx)(P.Trans,{ns:"base",i18nKey:"edit-image-presets.presets.graffiti",defaults:"Graffiti"}),previewUrl:"/image-editing-preset-previews/graffiti.jpg"},{presetId:"renaissance-painting",icon:k.Palette,label:(0,t.jsx)(P.Trans,{ns:"base",i18nKey:"edit-image-presets.presets.renaissance-painting",defaults:"Renaissance Painting"}),previewUrl:"/image-editing-preset-previews/renaissance-painting.jpg"},{presetId:"symbolist-painting",icon:p.Eye,label:(0,t.jsx)(P.Trans,{ns:"base",i18nKey:"edit-image-presets.presets.symbolist-painting",defaults:"Symbolist Painting"}),previewUrl:"/image-editing-preset-previews/symbolist-painting.jpg"},{presetId:"expressionist-painting",icon:i.default,label:(0,t.jsx)(P.Trans,{ns:"base",i18nKey:"edit-image-presets.presets.expressionist-painting",defaults:"Expressionist Painting"}),previewUrl:"/image-editing-preset-previews/expressionist-painting.jpg"},{presetId:"cubist-painting",icon:T.Square,label:(0,t.jsx)(P.Trans,{ns:"base",i18nKey:"edit-image-presets.presets.cubist-painting",defaults:"Cubist Painting"}),previewUrl:"/image-editing-preset-previews/cubist-painting.jpg"},{presetId:"ukiyo-e-painting",icon:n.Cherry,label:(0,t.jsx)(P.Trans,{ns:"base",i18nKey:"edit-image-presets.presets.ukiyo-e-painting",defaults:"Ukiyo-e Painting"}),previewUrl:"/image-editing-preset-previews/ukiyo-e-painting.jpg"},{presetId:"bright-anime",icon:C.Smile,label:(0,t.jsx)(P.Trans,{ns:"base",i18nKey:"edit-image-presets.presets.bright-anime",defaults:"Bright Anime"}),previewUrl:"/image-editing-preset-previews/bright-anime.jpg"},{presetId:"dark-anime",icon:M,label:(0,t.jsx)(P.Trans,{ns:"base",i18nKey:"edit-image-presets.presets.dark-anime",defaults:"Dark Anime"}),previewUrl:"/image-editing-preset-previews/dark-anime.jpg"},{presetId:"cyberpunk",icon:o,label:(0,t.jsx)(P.Trans,{ns:"base",i18nKey:"edit-image-presets.presets.cyberpunk",defaults:"Cyberpunk"}),previewUrl:"/image-editing-preset-previews/cyberpunk.jpg"},{presetId:"retro-game",icon:g,label:(0,t.jsx)(P.Trans,{ns:"base",i18nKey:"edit-image-presets.presets.retro-game",defaults:"Retro Game"}),previewUrl:"/image-editing-preset-previews/retro-game.jpg"}]},{category:"background",icon:x,label:(0,t.jsx)(P.Trans,{ns:"base",i18nKey:"edit-image-presets.categories.background",defaults:"Background"}),presets:[{presetId:"paris",icon:a.Building2,label:(0,t.jsx)(P.Trans,{ns:"base",i18nKey:"edit-image-presets.presets.paris",defaults:"Paris"}),previewUrl:"/image-editing-preset-previews/paris.jpg"},{presetId:"london",icon:a.Building2,label:(0,t.jsx)(P.Trans,{ns:"base",i18nKey:"edit-image-presets.presets.london",defaults:"London"}),previewUrl:"/image-editing-preset-previews/london.jpg"},{presetId:"tokyo",icon:a.Building2,label:(0,t.jsx)(P.Trans,{ns:"base",i18nKey:"edit-image-presets.presets.tokyo",defaults:"Tokyo"}),previewUrl:"/image-editing-preset-previews/tokyo.jpg"},{presetId:"mars",icon:b,label:(0,t.jsx)(P.Trans,{ns:"base",i18nKey:"edit-image-presets.presets.mars",defaults:"Mars"}),previewUrl:"/image-editing-preset-previews/mars.jpg"},{presetId:"tropical-paradise",icon:R,label:(0,t.jsx)(P.Trans,{ns:"base",i18nKey:"edit-image-presets.presets.tropical-paradise",defaults:"Tropical Paradise"}),previewUrl:"/image-editing-preset-previews/tropical-paradise.jpg"},{presetId:"cosmic-void",icon:_,label:(0,t.jsx)(P.Trans,{ns:"base",i18nKey:"edit-image-presets.presets.cosmic-void",defaults:"Cosmic Void"}),previewUrl:"/image-editing-preset-previews/cosmic-void.jpg"},{presetId:"urban-rooftop",icon:a.Building2,label:(0,t.jsx)(P.Trans,{ns:"base",i18nKey:"edit-image-presets.presets.urban-rooftop",defaults:"Urban Rooftop"}),previewUrl:"/image-editing-preset-previews/urban-rooftop.jpg"},{presetId:"enchanted-cave",icon:m.Gem,label:(0,t.jsx)(P.Trans,{ns:"base",i18nKey:"edit-image-presets.presets.enchanted-cave",defaults:"Enchanted Cave"}),previewUrl:"/image-editing-preset-previews/enchanted-cave.jpg"},{presetId:"misty-forest",icon:A,label:(0,t.jsx)(P.Trans,{ns:"base",i18nKey:"edit-image-presets.presets.misty-forest",defaults:"Misty Forest"}),previewUrl:"/image-editing-preset-previews/misty-forest.jpg"},{presetId:"retro-arcade",icon:f,label:(0,t.jsx)(P.Trans,{ns:"base",i18nKey:"edit-image-presets.presets.retro-arcade",defaults:"Retro Arcade"}),previewUrl:"/image-editing-preset-previews/retro-arcade.jpg"},{presetId:"space-station",icon:S.Rocket,label:(0,t.jsx)(P.Trans,{ns:"base",i18nKey:"edit-image-presets.presets.space-station",defaults:"Space Station"}),previewUrl:"/image-editing-preset-previews/space-station.jpg"},{presetId:"desert-oasis",icon:R,label:(0,t.jsx)(P.Trans,{ns:"base",i18nKey:"edit-image-presets.presets.desert-oasis",defaults:"Desert Oasis"}),previewUrl:"/image-editing-preset-previews/desert-oasis.jpg"},{presetId:"volcano-lair",icon:h.Flame,label:(0,t.jsx)(P.Trans,{ns:"base",i18nKey:"edit-image-presets.presets.volcano-lair",defaults:"Volcano Lair"}),previewUrl:"/image-editing-preset-previews/volcano-lair.jpg"},{presetId:"post-apocalypse",icon:w,label:(0,t.jsx)(P.Trans,{ns:"base",i18nKey:"edit-image-presets.presets.post-apocalypse",defaults:"Post-Apocalypse"}),previewUrl:"/image-editing-preset-previews/post-apocalypse.jpg"}]},{category:"subject",icon:u,label:(0,t.jsx)(P.Trans,{ns:"base",i18nKey:"edit-image-presets.categories.subject",defaults:"Subject"}),presets:[{presetId:"stylish-hat",icon:v,label:(0,t.jsx)(P.Trans,{ns:"base",i18nKey:"edit-image-presets.presets.stylish-hat",defaults:"Stylish Hat"}),previewUrl:"/image-editing-preset-previews/stylish-hat.jpg"},{presetId:"mustache",icon:U,label:(0,t.jsx)(P.Trans,{ns:"base",i18nKey:"edit-image-presets.presets.mustache",defaults:"Mustache"}),previewUrl:"/image-editing-preset-previews/mustache.jpg"},{presetId:"superhero-costume",icon:z.Zap,label:(0,t.jsx)(P.Trans,{ns:"base",i18nKey:"edit-image-presets.presets.superhero-costume",defaults:"Superhero Costume"}),previewUrl:"/image-editing-preset-previews/superhero-costume.jpg"},{presetId:"golden-glow",icon:E,label:(0,t.jsx)(P.Trans,{ns:"base",i18nKey:"edit-image-presets.presets.golden-glow",defaults:"Golden Glow"}),previewUrl:"/image-editing-preset-previews/golden-glow.jpg"},{presetId:"mecha-warrior",icon:s.Bot,label:(0,t.jsx)(P.Trans,{ns:"base",i18nKey:"edit-image-presets.presets.mecha-warrior",defaults:"Mecha Warrior"}),previewUrl:"/image-editing-preset-previews/mecha-warrior.jpg"},{presetId:"sunglasses-jacket",icon:y.Glasses,label:(0,t.jsx)(P.Trans,{ns:"base",i18nKey:"edit-image-presets.presets.sunglasses-jacket",defaults:"Sunglasses & Jacket"}),previewUrl:"/image-editing-preset-previews/sunglasses-jacket.jpg"},{presetId:"medieval-armor",icon:N.Shield,label:(0,t.jsx)(P.Trans,{ns:"base",i18nKey:"edit-image-presets.presets.medieval-armor",defaults:"Medieval Armor"}),previewUrl:"/image-editing-preset-previews/medieval-armor.jpg"},{presetId:"time-traveler",icon:c.Clock,label:(0,t.jsx)(P.Trans,{ns:"base",i18nKey:"edit-image-presets.presets.time-traveler",defaults:"Time Traveler"}),previewUrl:"/image-editing-preset-previews/time-traveler.jpg"},{presetId:"hologram-effect",icon:I,label:(0,t.jsx)(P.Trans,{ns:"base",i18nKey:"edit-image-presets.presets.hologram-effect",defaults:"Hologram Effect"}),previewUrl:"/image-editing-preset-previews/hologram-effect.jpg"},{presetId:"dragon-rider",icon:h.Flame,label:(0,t.jsx)(P.Trans,{ns:"base",i18nKey:"edit-image-presets.presets.dragon-rider",defaults:"Dragon Rider"}),previewUrl:"/image-editing-preset-previews/dragon-rider.jpg"},{presetId:"remove-people",icon:H,label:(0,t.jsx)(P.Trans,{ns:"base",i18nKey:"edit-image-presets.presets.remove-people",defaults:"Remove People"}),previewUrl:"/image-editing-preset-previews/remove-people.jpg"}]}]},431533,e=>{"use strict";e.s(["ImageLoader",()=>r]);var t=e.i(637651),s=e.i(211959);e.i(685846);var i=e.i(715127),a=e.i(623434);let r=e=>{let{className:r}=e;return(0,t.jsx)(a.motion.div,{initial:{opacity:0,filter:"blur(4px)"},animate:{opacity:1,filter:"blur(0px)"},transition:{ease:"easeInOut"},className:(0,s.cn)("h-full w-full flex items-center justify-center animate-pulse-lg",r),children:(0,t.jsx)(i.ImageIcon,{size:60,strokeWidth:1.3,className:"opacity-30 rotate-[-10deg]"})},"loader")}},468793,e=>{"use strict";e.s(["Eye",()=>t.default]);var t=e.i(340656)},676452,e=>{"use strict";e.s(["useHighlightsStore",()=>o]);var t=e.i(868275),s=e.i(332573),i=e.i(564448),a=e.i(477249),r=e.i(364778),l=e.i(486492);class n{constructor(e,s,a){var n=this;(0,t._)(this,"set",void 0),(0,t._)(this,"get",void 0),(0,t._)(this,"store",void 0),(0,t._)(this,"stories",void 0),(0,t._)(this,"isLoading",void 0),(0,t._)(this,"error",void 0),(0,t._)(this,"nextCursor",void 0),(0,t._)(this,"storyReactions",void 0),(0,t._)(this,"hasAnimated",void 0),(0,t._)(this,"setStories",void 0),(0,t._)(this,"setIsLoading",void 0),(0,t._)(this,"setError",void 0),(0,t._)(this,"setNextCursor",void 0),(0,t._)(this,"setHasAnimated",void 0),(0,t._)(this,"setStoryReaction",void 0),(0,t._)(this,"likeStory",void 0),(0,t._)(this,"dislikeStory",void 0),(0,t._)(this,"fetchStories",void 0),(0,t._)(this,"loadMore",void 0),(0,t._)(this,"reset",void 0),this.set=e,this.get=s,this.store=a,this.stories=[],this.isLoading=!1,this.error=null,this.nextCursor=void 0,this.storyReactions={},this.hasAnimated=!1,this.setStories=(0,i.assign)(this.set,"stories"),this.setIsLoading=(0,i.assign)(this.set,"isLoading"),this.setError=(0,i.assign)(this.set,"error"),this.setNextCursor=(0,i.assign)(this.set,"nextCursor"),this.setHasAnimated=(0,i.assign)(this.set,"hasAnimated"),this.setStoryReaction=(e,t)=>{this.set(s=>({storyReactions:{...s.storyReactions,[e]:t}}))},this.likeStory=e=>{let t=this.get().storyReactions[e];this.setStoryReaction(e,"liked"===t?null:"liked")},this.dislikeStory=e=>{let t=this.get().storyReactions[e];this.setStoryReaction(e,"disliked"===t?null:"disliked")},this.fetchStories=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;n.setIsLoading(!0),n.setError(null);try{let t=await r.highlightsApi.highlightsGetStories({limit:e});n.set({stories:t.stories||[],nextCursor:t.nextCursor,isLoading:!1})}catch(t){let e=t instanceof Error?t:Error("Failed to fetch highlights");n.set({error:e,isLoading:!1}),(0,l.logError)("highlights-store:fetchStories",t)}},this.loadMore=async()=>{let e=this.get();if(!e.isLoading&&e.nextCursor){this.setIsLoading(!0),this.setError(null);try{let t=await r.highlightsApi.highlightsGetStories({limit:10,cursor:e.nextCursor});this.set({stories:[...e.stories,...t.stories||[]],nextCursor:t.nextCursor,isLoading:!1})}catch(t){let e=t instanceof Error?t:Error("Failed to load more highlights");this.set({error:e,isLoading:!1}),(0,l.logError)("highlights-store:loadMore",t)}}},this.reset=()=>{this.set({stories:[],isLoading:!1,error:null,nextCursor:void 0,hasAnimated:!1})}}}let o=(0,s.create)()((0,a.devtools)((0,a.persist)((e,t,s)=>new n(e,t,s),{name:"highlights-storage",partialize:e=>({storyReactions:e.storyReactions})}),{name:"useHighlightsStore"}))},398459,e=>{"use strict";e.s(["HighlightsSection",()=>f,"HighlightsStoryRow",()=>v]);var t=e.i(637651),s=e.i(211959);e.i(685846);var i=e.i(296451),a=e.i(468793),r=e.i(946032),l=e.i(883440),n=e.i(19945),o=e.i(353315);e.i(258722);var c=e.i(920958),d=e.i(981176),p=e.i(235289);e.i(968648);var h=e.i(873329),u=e.i(676452),g=e.i(763578),m=e.i(486492);function y(e){return e?e>=1e6?"".concat((e/1e6).toFixed(1),"M"):e>=1e3?"".concat((e/1e3).toFixed(1),"K"):e.toString():"0"}function v(e){var d,p,h,v,f,x;let{story:b,onClick:j,borderless:k}=e,[w,S]=(0,o.useState)(!1),I=(0,c.useLogEvent)(),N=(0,u.useHighlightsStore)(e=>e.storyReactions),M=(0,o.useMemo)(()=>b.posts||[],[b.posts]),C=M[0],_=null==C||null==(h=C.entities)||null==(p=h.media)||null==(d=p[0])?void 0:d.url,L=(null==C||null==(x=C.entities)||null==(f=x.media)||null==(v=f[0])?void 0:v.previewImageUrl)||_,T=L&&!w,E=N[b.storyId||""],R=(0,o.useMemo)(()=>M.reduce((e,t)=>{var s;return e+((null==(s=t.publicMetrics)?void 0:s.viewCount)||t.viewCount||0)},0),[M]),A=(0,o.useMemo)(()=>M.reduce((e,t)=>{var s;return e+((null==(s=t.publicMetrics)?void 0:s.likeCount)||0)},0),[M]),H=M.length,U=(0,o.useCallback)(e=>{if(!b.storyId)return void(0,m.logError)("highlights-story-card:HighlightsStoryRow:handleClick","storyId is undefined",{story:JSON.stringify(b)});I("highlights_story_tapped",b.storyId,{location:"highlights-story-card:HighlightsStoryRow:click",storyId:b.storyId,title:b.title||""}),e.metaKey||e.ctrlKey||(e.preventDefault(),j(b.storyId))},[b,I,j]),z=(0,o.useCallback)(e=>{if(e.stopPropagation(),e.preventDefault(),!b.storyId)return;let t=u.useHighlightsStore.getState();I("highlight_story_liked",b.storyId,{location:"highlights-story-card:HighlightsStoryRow:handleLike",storyId:b.storyId,title:b.title||"",wasAlreadyLiked:String("liked"===E)}),t.likeStory(b.storyId)},[b.storyId,b.title,E,I]),K=(0,o.useCallback)(e=>{if(e.stopPropagation(),e.preventDefault(),!b.storyId)return;let t=u.useHighlightsStore.getState();I("highlight_story_disliked",b.storyId,{location:"highlights-story-card:HighlightsStoryRow:handleDislike",storyId:b.storyId,title:b.title||"",wasAlreadyDisliked:String("disliked"===E)}),t.dislikeStory(b.storyId)},[b.storyId,b.title,E,I]);return(0,t.jsxs)("a",{href:"/highlights/".concat(b.storyId),className:(0,s.cn)("grid gap-y-2 gap-x-4",T?"grid-cols-[1fr_fit-content(160px)] grid-rows-[auto_auto]":"grid-cols-[1fr] grid-rows-[auto_auto]","overflow-hidden",k?"bg-transparent rounded-2xl":"border rounded-3xl bg-surface-l1","hover:bg-surface-l4-hover dark:hover:bg-surface-l2","px-4 py-3","w-full min-h-[90px]","text-start"),onClick:U,children:[(0,t.jsxs)("div",{className:"flex flex-col gap-1.5 overflow-hidden col-span-1 row-span-1",children:[(0,t.jsx)("h3",{className:"text-primary font-semibold text-base line-clamp-2 leading-tight m-0",children:b.title}),b.summary&&(0,t.jsx)("p",{className:"text-secondary text-sm line-clamp-2 leading-snug m-0",children:b.summary})]}),T&&(0,t.jsx)("div",{className:"col-span-1 row-span-2 flex items-center justify-end",children:(0,t.jsx)("div",{className:"relative w-[160px] h-[120px] rounded-xl overflow-hidden bg-surface-l2",children:(0,t.jsx)("img",{src:L,alt:b.title||"Story media",className:"w-full h-full object-cover",onError:()=>S(!0)})})}),(0,t.jsxs)("div",{className:"flex items-center gap-4 text-secondary text-xs col-span-1 row-span-1",children:[R>0&&(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(a.Eye,{className:"size-4"}),(0,t.jsx)("span",{children:y(R)})]}),A>0&&(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(i.HeartIcon,{className:"size-4"}),(0,t.jsx)("span",{children:y(A)})]}),H>0&&(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(r.XLogoIcon,{className:"size-4"}),(0,t.jsxs)("span",{children:[H," ",1===H?"post":"posts"]})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(g.Button,{variant:"ghostSecondary",size:"iconXs",rounded:!0,onClick:z,className:(0,s.cn)("liked"===E&&"text-primary"),"aria-label":"Like this story",children:(0,t.jsx)(l.ThumbsUpIcon,{className:"size-4"})}),(0,t.jsx)(g.Button,{variant:"ghostSecondary",size:"iconXs",rounded:!0,onClick:K,className:(0,s.cn)("disliked"===E&&"text-primary"),"aria-label":"Dislike this story",children:(0,t.jsx)(n.ThumbsDownIcon,{className:"size-4"})})]})]})]})}function f(e){let{className:l,story:n}=e,{t:u}=(0,h.useTranslation)("chat"),g=(0,c.useLogEvent)(),m=(0,o.useRef)(null),v=(0,o.useRef)(!1),f=(0,o.useMemo)(()=>n.posts||[],[n.posts]),x=(0,o.useMemo)(()=>{let e=[];return f.forEach(t=>{var s,i;let a=(null==(s=t.entities)?void 0:s.media)||[],r=[];if(a.forEach(e=>{let t=e.url||e.previewImageUrl;t&&r.push(t)}),r.length>0){let s=(null==(i=t.publicMetrics)?void 0:i.likeCount)||0;e.push({post:t,images:r,likeCount:s})}}),e.sort((e,t)=>t.likeCount-e.likeCount).flatMap(e=>e.images)},[f]),b=(0,o.useMemo)(()=>f.reduce((e,t)=>{var s;return e+((null==(s=t.publicMetrics)?void 0:s.viewCount)||t.viewCount||0)},0),[f]),j=(0,o.useMemo)(()=>f.reduce((e,t)=>{var s;return e+((null==(s=t.publicMetrics)?void 0:s.likeCount)||0)},0),[f]),k=f.length;(0,o.useEffect)(()=>{let e=new IntersectionObserver(e=>{e.forEach(e=>{e.isIntersecting&&!v.current&&(v.current=!0,g("highlights_story_impression",n.storyId||"",{location:"highlights-section:HighlightsSection:impression",storyId:n.storyId||"",title:n.title||"",postCount:String(k)}))})},{threshold:0});return m.current&&e.observe(m.current),()=>{e.disconnect()}},[n.storyId,n.title,k,g]);let w=(0,o.useCallback)(e=>{g("highlights_post_link_clicked",e,{location:"highlights-section:HighlightsSection:handlePostClick",storyId:n.storyId||"",postId:e})},[n.storyId,g]);return(0,t.jsxs)("section",{ref:m,id:n.storyId||void 0,className:(0,s.cn)("w-full scroll-mt-4",p.QUERY_BAR_MAX_WIDTH_CLASS,l),children:[(0,t.jsx)("h2",{className:"text-primary font-semibold text-2xl mb-2 m-0",children:n.title}),n.summary&&(0,t.jsx)("p",{className:"text-secondary text-base mb-4 m-0",children:n.summary}),x.length>0&&(0,t.jsx)("div",{className:"w-full mb-6 rounded-2xl overflow-hidden",children:(0,t.jsx)("img",{src:x[0],alt:n.title||"Story image",className:"w-full h-auto max-h-[400px] object-cover"})}),(0,t.jsxs)("div",{className:"flex items-center gap-6 text-secondary text-sm mb-6",children:[b>0&&(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(a.Eye,{className:"size-4"}),(0,t.jsx)("span",{children:u("highlights-views",{count:b,formattedCount:y(b),defaultValue_one:"{{formattedCount}} view",defaultValue_other:"{{formattedCount}} views"})})]}),j>0&&(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(i.HeartIcon,{className:"size-4"}),(0,t.jsx)("span",{children:u("highlights-likes",{count:j,formattedCount:y(j),defaultValue_one:"{{formattedCount}} like",defaultValue_other:"{{formattedCount}} likes"})})]}),k>0&&(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(r.XLogoIcon,{className:"size-4"}),(0,t.jsx)("span",{children:u("highlights-posts",{count:k,defaultValue_one:"{{count}} post",defaultValue_other:"{{count}} posts"})})]})]}),(0,t.jsx)("div",{className:"flex flex-col",children:f.map((e,s)=>(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{onClick:()=>w(e.postId||"unknown"),children:(0,t.jsx)(d.XPostConversationCard,{xPost:e,wide:!0,borderless:!0})}),s<f.length-1&&(0,t.jsx)("div",{className:"h-px bg-border-l1 mx-4"})]},e.postId||s))})]})}},796066,e=>{"use strict";e.s(["useLoadHighlights",()=>r]);var t=e.i(353315),s=e.i(572848),i=e.i(676452),a=e.i(50636);function r(){let e=(0,s.useSession)().user,r=(0,a.useFeatureFlags)(),l=(0,i.useHighlightsStore)(e=>e.isLoading),n=(0,i.useHighlightsStore)(e=>e.error);return(0,t.useEffect)(()=>{if(!r.ALLOW_HIGHLIGHTS_ACCESS_WEB)return;let t=i.useHighlightsStore.getState();t.stories.length>0||e&&!t.isLoading&&t.fetchStories(10).catch(e=>{})},[e,r.ALLOW_HIGHLIGHTS_ACCESS_WEB]),{isLoading:l,error:n}}},908160,e=>{"use strict";e.s(["default",()=>L]);var t=e.i(637651),s=e.i(353315);e.i(968648);var i=e.i(873329),a=e.i(6880),r=e.i(211959),l=e.i(486492),n=e.i(920958),o=e.i(235289),c=e.i(676452),d=e.i(796066),p=e.i(398459),h=e.i(383293),u=e.i(572848),g=e.i(383274),m=e.i(246429),y=e.i(470753),v=e.i(243634),f=e.i(713087),x=e.i(50636),b=e.i(258722),j=e.i(724499),k=e.i(763578);e.i(685846);var w=e.i(352910),S=e.i(380619),I=e.i(389052),N=e.i(892621),M=e.i(328788),C=e.i(230433),_=e.i(805546);function L(){let{t:e}=(0,i.useTranslation)("chat"),L=(0,a.useParams)(),{route:T}=(0,j.useRouting)(),E="highlights"===T.page&&T.storyId||(null==L?void 0:L.id),R=(0,c.useHighlightsStore)(e=>e.stories),{isLoading:A,error:H}=(0,d.useLoadHighlights)(),U=(0,n.useLogEvent)(),{user:z}=(0,u.useSession)(),K=(0,g.useMaybeRefreshAnonSession)(),{signInWithReturnTo:P}=(0,f.useGrokRouter)(),B=(0,v.useForceSignInModels)(),V=(0,x.useFeatureFlags)(),D=(0,y.useSettingsStore)(e=>e.isIncognito),q=(0,M.useMobileSize)(),{bestSubscription:F}=(0,C.useSubscriptions)(),G=(0,_.useIsFirstTimeUser)(),{sessionStartTime:O,conversationDepth:W}=(0,N.useTimeToValueAnalytics)(),X=(0,s.useMemo)(()=>R.find(e=>e.storyId===E),[R,E]);(0,s.useEffect)(()=>{X&&U("highlight_story_page_view",E,{location:"highlight-story-page",storyId:E,title:X.title||""})},[X,E,U]);let Y=(0,s.useCallback)(e=>{let{query:t,fileAttachmentIds:s,webpageUrls:i,toolOverrides:a,workspaceIds:r,persona:n,isIncognitoOverride:o,disableMemory:c,modelIdOverride:d}=e;if(!t||!t.trim())return Promise.resolve(!1);let p=m.useChatPageStore.getState(),h=y.useSettingsStore.getState(),u=b.useRoutingStore.getState();return!z&&B.includes(p.activeModelId)?(U("sign_in","highlight-story-page",{location:"highlight-story-page:handleSend"}),P(t),Promise.resolve(!1)):K().then(()=>{var e;let g=(0,I.toAnalytics)({activeModelId:d||p.activeModelId,modelMode:d?"":void 0,query:t,fileAttachmentIds:s,webpageUrls:i,location:"highlight-story-page",personalityId:h.userSettings.preferences.selectedSystemPromptId||"",personaId:"",sessionStartTime:O,conversationDepth:W,isMobile:q,bestSubscription:F,user:!!z,workspaceCount:(null==r?void 0:r.length)||0,toolOverrides:a,parentResponseId:"",isFirstTimeUser:G}),m=null==X||null==(e=X.posts)?void 0:e.map(e=>e.postId),y=[(null==X?void 0:X.title)&&"Story: ".concat(X.title),(null==X?void 0:X.summary)&&"Summary: ".concat(X.summary),m&&"X posts: ".concat(m.join(", ")),t].filter(Boolean).join("\n\n");U("send_query","",g);let v=null!=o?o:D;return p.establishNewConversation({message:y,fileAttachmentIds:s,webpageUrls:i,toolOverrides:a,temporary:v,enableRetries:!0,ff:V,persona:n,disableMemory:c,onOptimisticConversation:()=>{u.push({page:"main"})}}).catch((0,l.createLogError)("highlight-story-page:establishNewConversation")).then(e=>!!e)})},[z,B,K,X,O,W,q,F,G,U,P,D,V]),Q=(0,s.useCallback)(()=>{(0,b.useRoutingStore.getState().push)({page:"main"})},[]);return A&&0===R.length?(0,t.jsx)("div",{className:"flex flex-col items-center justify-center w-full h-full p-8",children:(0,t.jsx)("div",{className:(0,r.cn)("w-full",o.QUERY_BAR_MAX_WIDTH_CLASS),children:(0,t.jsx)("p",{className:"text-secondary text-center",children:e("highlights-loading","Loading highlights...")})})}):H?(0,t.jsx)("div",{className:"flex flex-col items-center justify-center w-full h-full p-8",children:(0,t.jsx)("div",{className:(0,r.cn)("w-full",o.QUERY_BAR_MAX_WIDTH_CLASS),children:(0,t.jsx)("p",{className:"text-secondary text-center",children:e("highlights-error","Failed to load highlights. Please try again later.")})})}):X?(0,t.jsxs)("div",{className:(0,r.cn)("flex flex-col items-center w-full h-[100vh]",S.CHAT_CONTAINER_CLASSES),children:[(0,t.jsx)("div",{className:"flex-1 w-full overflow-y-auto",children:(0,t.jsxs)("div",{className:(0,r.cn)("w-full",o.QUERY_BAR_MAX_WIDTH_CLASS,"mx-auto px-4"),children:[(0,t.jsx)("div",{className:"sticky top-0 h-0 w-full ms-[-60px]",children:(0,t.jsx)(k.Button,{variant:"outline",size:"iconMd",rounded:!0,onClick:Q,className:"shrink-0 mt-2 ms-2",children:(0,t.jsx)(w.ChevronLeft,{className:"size-4"})})}),(0,t.jsx)(p.HighlightsSection,{className:"pt-3",story:X}),(0,t.jsx)("div",{className:"h-32"})]})}),(0,t.jsxs)("div",{className:(0,r.cn)("absolute bottom-4 w-full"),children:[(0,t.jsx)(h.QueryBar,{placeholder:e("highlights-story-page-query-bar.input-placeholder","Ask about the story..."),onQuery:Y,onFrontPage:!0,isIncognito:D,textAreaClassName:"min-h-14 py-4 my-0 mb-0"}),(0,t.jsx)("div",{className:"absolute -bottom-4 h-14 w-full",children:(0,t.jsx)("div",{className:(0,r.cn)("chat-input-backdrop w-full h-full","bg-gradient-to-b from-surface-base via-surface-base/94 to-surface-base/80")})})]})]}):(0,t.jsx)("div",{className:"flex flex-col items-center justify-center w-full h-full p-8",children:(0,t.jsx)("div",{className:(0,r.cn)("w-full",o.QUERY_BAR_MAX_WIDTH_CLASS),children:(0,t.jsx)("p",{className:"text-secondary text-center",children:e("highlight-not-found","Highlight story not found.")})})})}},829735,e=>{"use strict";e.s(["HighlightsAllStoriesPage",()=>x,"default",()=>f]);var t=e.i(637651),s=e.i(353315);e.i(968648);var i=e.i(873329),a=e.i(211959),r=e.i(486492),l=e.i(920958),n=e.i(235289),o=e.i(676452),c=e.i(796066),d=e.i(398459),p=e.i(724499),h=e.i(258722);e.i(685846);var u=e.i(352910),g=e.i(763578),m=e.i(908160),y=e.i(380619);function v(e){let{children:s}=e,i=(0,h.useRoutingStore)(e=>e.push);return(0,t.jsxs)("div",{className:(0,a.cn)("flex flex-col items-center w-full h-[100vh] overflow-y-auto",y.CHAT_CONTAINER_CLASSES),children:[(0,t.jsx)(g.Button,{variant:"outline",size:"iconMd",rounded:!0,onClick:()=>i({page:"main"}),className:"shrink-0 mt-2 ms-2 self-start sticky top-2",children:(0,t.jsx)(u.ChevronLeft,{className:"size-4"})}),(0,t.jsx)("div",{className:(0,a.cn)("w-full",n.QUERY_BAR_MAX_WIDTH_CLASS),children:s})]})}function f(){let{route:e}=(0,p.useRouting)();return"highlights"===e.page&&e.storyId?(0,t.jsx)(m.default,{}):(0,t.jsx)(x,{})}function x(){let{t:e}=(0,i.useTranslation)("chat"),{route:a}=(0,p.useRouting)(),n=(0,o.useHighlightsStore)(e=>e.stories),{isLoading:h,error:u}=(0,c.useLoadHighlights)(),g=(0,l.useLogEvent)();return((0,s.useEffect)(()=>{n.length>0&&g("highlights_shown",String(n.length),{location:"highlights-page:HighlightsAllStoriesView",storyCount:String(n.length)})},[n.length,g]),(0,s.useEffect)(()=>{if("highlights"===a.page&&a.storyId){let e=setTimeout(()=>{let e=a.storyId;if(e){let t=document.getElementById(e);t?t.scrollIntoView({behavior:"smooth",block:"start"}):(0,r.logError)("highlights-page:scroll",Error("Story element not found: ".concat(e)))}},100);return()=>clearTimeout(e)}},[a]),h&&0===n.length)?(0,t.jsx)(v,{children:(0,t.jsx)("div",{className:"flex flex-col items-center justify-center w-full h-full p-8",children:(0,t.jsx)("p",{className:"text-secondary text-center",children:e("highlights-loading","Loading highlights...")})})}):u?(0,t.jsx)(v,{children:(0,t.jsx)("div",{className:"flex flex-col items-center justify-center w-full h-full p-8",children:(0,t.jsx)("p",{className:"text-secondary text-center",children:e("highlights-error","Failed to load highlights. Please try again later.")})})}):0===n.length?(0,t.jsx)(v,{children:(0,t.jsx)("div",{className:"flex flex-col items-center justify-center w-full h-full p-8",children:(0,t.jsx)("p",{className:"text-secondary text-center",children:e("highlights-empty","No highlights available at the moment.")})})}):(0,t.jsx)(v,{children:(0,t.jsx)("div",{className:"flex flex-col gap-10",children:n.map(e=>(0,t.jsx)(d.HighlightsSection,{story:e},e.storyId))})})}},891650,e=>{e.v(t=>Promise.all(["static/chunks/db08ccdca9bc98ad.js","static/chunks/e900f9eb0f12f295.js"].map(t=>e.l(t))).then(()=>t(314298)))},82203,e=>{e.v(t=>Promise.all(["static/chunks/fd27dcbf8ebdb304.js"].map(t=>e.l(t))).then(()=>t(787599)))}]);
!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="31773ee5-0093-5a4e-9874-309690118c76")}catch(e){}}();
//# debugId=31773ee5-0093-5a4e-9874-309690118c76
